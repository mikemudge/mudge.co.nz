<div ng-controller="LoginController as ctrl">
  <div class="header" ng-include="'/static/shared/templates/header.tpl.html'">
  </div>

  <div>
    <h4>Status</h4>
    <p>{{ ctrl.loginService.currentStatus }}</p>
    <p>
      Mudge.co.nz access: {{ ctrl.currentAccess.scopes }}
    </p>
    <p>
      Google login: {{ ctrl.loginService.googleStatus }}
    </p>
    <hr>
  </div>

  <div ng-show="ctrl.googleLoginButton">
    <div id="googleLoginButton"></div>
  </div>

  <div class="clickable" ng-click="ctrl.advanced=!ctrl.advanced">
    <span ng-hide="ctrl.advanced">Show</span>
    <span ng-show="ctrl.advanced">Hide</span>
    debug information
  </div>

  <div ng-show="ctrl.advanced">
    <hr>
    <div> Actions </div>
    <div class="button" ng-click="ctrl.logout()">
      Logout
    </div>
    <div class="button" ng-click="ctrl.loginWithGoogle()">
      Login using Google
    </div>
    <hr>
    <div>
      <div ng-show="ctrl.loginService.googleUser">
        <div class="clickable" ng-click="debug=true">Show google data</div>
        <pre ng-show="debug">{{ ctrl.loginService.googleUser | json }}</pre>
      </div>
    </div>
    <p> User for mudge.co.nz </p>
    <div>
      <pre>{{ ctrl.loginService.user | json }}</pre>
    </div>
    <p>Access JWT contents </p>
    <div>
      <pre>{{ ctrl.loginService.currentAccess | json }}</pre>
    </div>
    <div ng-repeat="line in ctrl.debug track by $index">
      {{ line }}
    </div>
  </div>
</div>